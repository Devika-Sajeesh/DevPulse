# ğŸš€ DevPulse â€“ Predictive Code Health & Technical Debt Engine

DevPulse is a **full-stack predictive code analysis platform** built with **FastAPI**, **React**, and integrated machine learning. It transcends traditional static analysis by delivering a single, objective **Code Health Score (CHS)**, which estimates future technical debt and maintainability risk. It is designed for secure, scalable deployment using **Docker**.

## âœ¨ Predictive Core

The central feature is the **Code Health Score (CHS)**, a weighted metric (0-100) combining three powerful elements to create a forward-looking risk assessment:

| Metric                            | Component                   | Role in Prediction | Description                                                                                                                                                      |
| :-------------------------------- | :-------------------------- | :----------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Code Health Score (CHS)**       | **Final Output**            | **Synthesis**      | A single, actionable score for overall code quality, maintainability, and future risk.                                                                           |
| **AI Code Probability ($w_2$)**   | **LLM Insight**             | **Penalty**        | Estimates the probability (0-100%) that the code was substantially generated by an LLM (e.g., Groq/OpenAI), flagging potential maintenance risks.                |
| **Historical Risk Score ($w_3$)** | **ML Model (Scikit-learn)** | **Penalty**        | Predicts the likelihood of new, high-severity technical debt appearing in the future, based on features fed into a trained Scikit-learn Linear Regression model. |

## ğŸ—ï¸ Architecture

DevPulse uses a performant and secure microservice architecture managed by Docker Compose.

- **Security Sandboxing:** All third-party repository cloning and static analysis tool execution is isolated using Docker. This prevents malicious code from compromising the host system or the main API service.
- **Persistent ML Model:** The trained Scikit-learn model is persisted via **joblib** and mounted into the application container, ensuring fast predictions on startup.
- **Asynchronous API:** FastAPI handles heavy analysis requests non-blocking via `asyncio.gather` for superior responsiveness.

<!-- end list -->

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  <-- DOCKER COMPOSE --> â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React (Host)   â”‚                        â”‚ ğŸ³ FastAPI API     â”‚
â”‚ http://localhost:3000                    â”‚ http://localhost:8000
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚  - Loads ML Model  â”‚
          â”‚                                 â”‚  - Predicts CHS/Risk â”‚
          â–¼                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Analysis Request â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
                                                      â”‚
                                                      â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚ ğŸ³ **Analysis Sandbox Worker** (Ephemeral) â”‚
                       â”‚ - Executes Radon, Pylint, Cloc securely  â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš¡ Quick Start (Using Docker Compose)

This is the recommended setup as it manages dependencies, networking, and security automatically.

### Prerequisites

1.  **Docker Desktop:** Must be running and stable.
2.  **API Keys:** Create a **`.env`** file in the project root with your Groq and/or OpenAI keys.
3.  **Python:** Needed locally to generate the ML model file.

### Step 1: Install Dependencies and Train Model

```bash
# Install the Docker SDK locally for sandboxing logic and general project dependencies
pip install -r requirements.txt

# Create the ml/ directory and generate the model file (.joblib) on the host machine
python ml/train_model.py
```

### Step 2: Build and Run Containers

From the **project root directory**:

```bash
# Build the images (frontend/backend) and start the services in detached mode
docker compose up --build -d
```

_Wait until the containers are fully started (you can check status with `docker compose ps`)._

### Step 3: Run the Frontend (Local Development)

Open a **new terminal window** (do NOT use Docker for the React runtime during development):

```bash
cd frontend
npm install
npm start
```

- **Application URL:** `http://localhost:3000`
- **API URL (Container):** `http://localhost:8000`

---

## ğŸ› ï¸ Tech Stack

- **Frontend**: React, Code Health Gauge, Premium CSS Theming
- **Backend**: FastAPI (Python 3.11+)
- **Data/ML**: Scikit-learn, joblib (ML Model Persistence), Groq/OpenAI LLM APIs
- **Security/Deployment**: Docker, Docker Compose
- **Analysis Tools**: GitPython, Radon, Cloc, Pylint.
